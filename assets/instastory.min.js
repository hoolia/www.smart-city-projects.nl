!function(e){e.fn.instastory=function(t){let s=this,n="",o=e.extend({get:"",type:"",imageSize:150,limit:6,link:!0,template:"",after:function(){}},t);if(!s.length)return console.group("Instastory.js log"),console.warn("The DOM element you tried to initiate the plugin on, does not exist"),console.log("For more info on how to use the plugin, please see: https://github.com/kasperlegarth/instastory.js"),console.groupEnd(),!1;if("string"==typeof t&&(o.get=t),""==o.get)return console.group("Instastory.js log"),console.warn("You failed to specify what you want"),console.log("For more info on how to use the plugin, please see: https://github.com/kasperlegarth/instastory.js"),console.groupEnd(),!1;const r=function(e){const t=o.imageSize;if("number"!=typeof t)return"raw"==t?e.display_url:e.thumbnail_resources[0].src;switch(t){case 150:return e.thumbnail_resources[0].src;case 240:return e.thumbnail_resources[1].src;case 320:return e.thumbnail_resources[2].src;case 480:return e.thumbnail_resources[3].src;case 640:return e.thumbnail_resources[4].src;default:return e.thumbnail_resources[0].src}},a=function(e){String.prototype.allReplace=function(e){let t=this;for(let s in e)t=t.replace(new RegExp(s,"g"),e[s]);return t};let t={"{{accessibility_caption}}":e.accessibility_caption,"{{caption}}":e.edge_media_to_caption.edges.length>0?e.edge_media_to_caption.edges[0].node.text:"","{{comments}}":e.edge_media_to_comment.count,"{{image}}":r(e),"{{likes}}":e.edge_liked_by.count,"{{link}}":"https://www.instagram.com/p/"+e.shortcode};return o.template.allReplace(t)};var i,c;(i=o.get).indexOf("@")>-1?(o.type="user",o.get=i.substring(i.indexOf("@")+1)):i.indexOf("#")>-1?(o.type="hashtag",o.get=i.substring(i.indexOf("#")+1)):(o.type="hashtag",o.get=i),c=o.type,n="user"==c?"https://www.instagram.com/"+o.get+"/?__a=1":"https://www.instagram.com/explore/tags/"+o.get+"/?__a=1",e.ajax({url:n,success:function(e){s.html(function(e){let t="",s={};switch(o.type){case"user":s=e.edge_owner_to_timeline_media;break;default:s=e.edge_hashtag_to_media}let n=s.edges;for(var i=0;i<o.limit;i++)if(void 0!==n[i]){let e=n[i].node,s="";""!=o.template?s=a(e):(s="<img src='"+r(e)+"' alt='"+e.accessibility_caption+"'>",o.link&&(s="<a href='https://www.instagram.com/p/"+e.shortcode+"'>"+s+"</a>")),t+=s}return t}(e.graphql[o.type])),o.after()}}).fail(function(e){switch(e.status){case 404:console.warn("The "+o.type+" do not exsists, please try another one");break;default:console.warn("An unknow error happend")}})}}(jQuery);